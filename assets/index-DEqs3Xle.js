import{R as T,$ as H,r as y,a as K,u as D,j as x,b as G,c as X,d as q,I as L,e as Y}from"./index-CthTsI-w.js";import{u as Z,I as _,a as J}from"./index-F42-un43.js";function Q(s){return T.createElement(H,s,T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"99.039",height:"94.342"},T.createElement("g",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("path",{d:"M93.113 88.415a5.38 5.38 0 0 1-7.61 0L58.862 61.773a1.018 1.018 0 0 1 0-1.44l6.17-6.169a1.018 1.018 0 0 1 1.439 0l26.643 26.643a5.38 5.38 0 0 1 0 7.608z",strokeWidth:"2.99955"}),T.createElement("path",{strokeWidth:"2",d:"M59.969 59.838l-3.246-3.246M61.381 51.934l3.246 3.246M64.609 61.619l13.327 13.327"}),T.createElement("path",{strokeWidth:"3",d:"M13.311 47.447A28.87 28.87 0 1 0 36.589 1.5c-10.318 0-20.141 5.083-24.7 13.46M2.121 38.734l15.536-15.536M17.657 38.734L2.121 23.198"}))))}function I(s,o,e){let n=e.initialDeps??[],t;return()=>{var i,r,l,a;let h;e.key&&((i=e.debug)!=null&&i.call(e))&&(h=Date.now());const c=s();if(!(c.length!==n.length||c.some((b,v)=>n[v]!==b)))return t;n=c;let p;if(e.key&&((r=e.debug)!=null&&r.call(e))&&(p=Date.now()),t=o(...c),e.key&&((l=e.debug)!=null&&l.call(e))){const b=Math.round((Date.now()-h)*100)/100,v=Math.round((Date.now()-p)*100)/100,u=v/16,f=(m,S)=>{for(m=String(m);m.length<S;)m=" "+m;return m};console.info(`%c⏱ ${f(v,5)} /${f(b,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*u,120))}deg 100% 31%);`,e==null?void 0:e.key)}return(a=e==null?void 0:e.onChange)==null||a.call(e,t),t}}function k(s,o){if(s===void 0)throw new Error("Unexpected undefined");return s}const ee=(s,o)=>Math.abs(s-o)<1,te=(s,o,e)=>{let n;return function(...t){s.clearTimeout(n),n=s.setTimeout(()=>o.apply(this,t),e)}},ne=s=>s,se=s=>{const o=Math.max(s.startIndex-s.overscan,0),e=Math.min(s.endIndex+s.overscan,s.count-1),n=[];for(let t=o;t<=e;t++)n.push(t);return n},ie=(s,o)=>{const e=s.scrollElement;if(!e)return;const n=s.targetWindow;if(!n)return;const t=r=>{const{width:l,height:a}=r;o({width:Math.round(l),height:Math.round(a)})};if(t(e.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const i=new n.ResizeObserver(r=>{const l=r[0];if(l!=null&&l.borderBoxSize){const a=l.borderBoxSize[0];if(a){t({width:a.inlineSize,height:a.blockSize});return}}t(e.getBoundingClientRect())});return i.observe(e,{box:"border-box"}),()=>{i.unobserve(e)}},A={passive:!0},re=typeof window>"u"?!0:"onscrollend"in window,oe=(s,o)=>{const e=s.scrollElement;if(!e)return;const n=s.targetWindow;if(!n)return;let t=0;const i=s.options.useScrollendEvent&&re?()=>{}:te(n,()=>{o(t,!1)},s.options.isScrollingResetDelay),r=h=>()=>{const{horizontal:c,isRtl:g}=s.options;t=c?e.scrollLeft*(g&&-1||1):e.scrollTop,i(),o(t,h)},l=r(!0),a=r(!1);return a(),e.addEventListener("scroll",l,A),e.addEventListener("scrollend",a,A),()=>{e.removeEventListener("scroll",l),e.removeEventListener("scrollend",a)}},le=(s,o,e)=>{if(o!=null&&o.borderBoxSize){const n=o.borderBoxSize[0];if(n)return Math.round(n[e.options.horizontal?"inlineSize":"blockSize"])}return Math.round(s.getBoundingClientRect()[e.options.horizontal?"width":"height"])},ae=(s,{adjustments:o=0,behavior:e},n)=>{var t,i;const r=s+o;(i=(t=n.scrollElement)==null?void 0:t.scrollTo)==null||i.call(t,{[n.options.horizontal?"left":"top"]:r,behavior:e})};class ce{constructor(o){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const n=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(t=>{t.forEach(i=>{this._measureElement(i.target,i)})}));return{disconnect:()=>{var t;(t=n())==null||t.disconnect(),e=null},observe:t=>{var i;return(i=n())==null?void 0:i.observe(t,{box:"border-box"})},unobserve:t=>{var i;return(i=n())==null?void 0:i.unobserve(t)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([n,t])=>{typeof t>"u"&&delete e[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ne,rangeExtractor:se,onChange:()=>{},measureElement:le,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...e}},this.notify=e=>{var n,t;(t=(n=this.options).onChange)==null||t.call(n,this,e)},this.maybeNotify=I(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,n)=>{const t=new Map,i=new Map;for(let r=n-1;r>=0;r--){const l=e[r];if(t.has(l.lane))continue;const a=i.get(l.lane);if(a==null||l.end>a.end?i.set(l.lane,l):l.end<a.end&&t.set(l.lane,!0),t.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((r,l)=>r.end===l.end?r.index-l.index:r.end-l.end)[0]:void 0},this.getMeasurementOptions=I(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,n,t,i,r)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:n,scrollMargin:t,getItemKey:i,enabled:r}),{key:!1}),this.getMeasurements=I(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:n,scrollMargin:t,getItemKey:i,enabled:r},l)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const h=this.measurementsCache.slice(0,a);for(let c=a;c<e;c++){const g=i(c),p=this.options.lanes===1?h[c-1]:this.getFurthestMeasurement(h,c),b=p?p.end+this.options.gap:n+t,v=l.get(g),u=typeof v=="number"?v:this.options.estimateSize(c),f=b+u,m=p?p.lane:c%this.options.lanes;h[c]={index:c,start:b,size:u,end:f,key:g,lane:m}}return this.measurementsCache=h,h},{key:!1,debug:()=>this.options.debug}),this.calculateRange=I(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(e,n,t)=>this.range=e.length>0&&n>0?he({measurements:e,outerSize:n,scrollOffset:t}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=I(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(e,n,t,i)=>n===null?[]:e({startIndex:n.startIndex,endIndex:n.endIndex,overscan:t,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const n=this.options.indexAttribute,t=e.getAttribute(n);return t?parseInt(t,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(e,n)=>{const t=this.indexFromElement(e),i=this.measurementsCache[t];if(!i)return;const r=i.key,l=this.elementsCache.get(r);l!==e&&(l&&this.observer.unobserve(l),this.observer.observe(e),this.elementsCache.set(r,e)),e.isConnected&&this.resizeItem(t,this.options.measureElement(e,n,this))},this.resizeItem=(e,n)=>{const t=this.measurementsCache[e];if(!t)return;const i=this.itemSizeCache.get(t.key)??t.size,r=n-i;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,r,this):t.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,n)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((n,t)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(t))});return}this._measureElement(e,void 0)},this.getVirtualItems=I(()=>[this.getIndexes(),this.getMeasurements()],(e,n)=>{const t=[];for(let i=0,r=e.length;i<r;i++){const l=e[i],a=n[l];t.push(a)}return t},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const n=this.getMeasurements();if(n.length!==0)return k(n[P(0,n.length-1,t=>k(n[t]).start,e)])},this.getOffsetForAlignment=(e,n)=>{const t=this.getSize(),i=this.getScrollOffset();n==="auto"&&(e<=i?n="start":e>=i+t?n="end":n="start"),n==="start"?e=e:n==="end"?e=e-t:n==="center"&&(e=e-t/2);const r=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[r]:this.scrollElement[r]:0)-t;return Math.max(Math.min(a,e),0)},this.getOffsetForIndex=(e,n="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const t=this.measurementsCache[e];if(!t)return;const i=this.getSize(),r=this.getScrollOffset();if(n==="auto")if(t.end>=r+i-this.options.scrollPaddingEnd)n="end";else if(t.start<=r+this.options.scrollPaddingStart)n="start";else return[r,n];const l=n==="end"?t.end+this.options.scrollPaddingEnd:t.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:n="start",behavior:t}={})=>{this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,n),{adjustments:void 0,behavior:t})},this.scrollToIndex=(e,{align:n="auto",behavior:t}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(e,n);if(!i)return;const[r,l]=i;this._scrollToOffset(r,{adjustments:void 0,behavior:t}),t!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const[h]=k(this.getOffsetForIndex(e,l));ee(h,this.getScrollOffset())||this.scrollToIndex(e,{align:l,behavior:t})}else this.scrollToIndex(e,{align:l,behavior:t})}))},this.scrollBy=(e,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var e;const n=this.getMeasurements();let t;return n.length===0?t=this.options.paddingStart:t=this.options.lanes===1?((e=n[n.length-1])==null?void 0:e.end)??0:Math.max(...n.slice(-this.options.lanes).map(i=>i.end)),Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:n,behavior:t})=>{this.options.scrollToFn(e,{behavior:t,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(o)}}const P=(s,o,e,n)=>{for(;s<=o;){const t=(s+o)/2|0,i=e(t);if(i<n)s=t+1;else if(i>n)o=t-1;else return t}return s>0?s-1:0};function he({measurements:s,outerSize:o,scrollOffset:e}){const n=s.length-1,i=P(0,n,l=>s[l].start,e);let r=i;for(;r<n&&s[r].end<e+o;)r++;return{startIndex:i,endIndex:r}}const ue=typeof document<"u"?y.useLayoutEffect:y.useEffect;function de(s){const o=y.useReducer(()=>({}),{})[1],e={...s,onChange:(t,i)=>{var r;i?K.flushSync(o):o(),(r=s.onChange)==null||r.call(s,t,i)}},[n]=y.useState(()=>new ce(e));return n.setOptions(e),y.useEffect(()=>n._didMount(),[]),ue(()=>n._willUpdate()),n}function fe(s){return de({observeElementRect:ie,observeElementOffset:oe,scrollToFn:ae,...s})}var me=typeof global=="object"&&global&&global.Object===Object&&global,ge=typeof self=="object"&&self&&self.Object===Object&&self,V=me||ge||Function("return this")(),O=V.Symbol,U=Object.prototype,pe=U.hasOwnProperty,be=U.toString,M=O?O.toStringTag:void 0;function ve(s){var o=pe.call(s,M),e=s[M];try{s[M]=void 0;var n=!0}catch{}var t=be.call(s);return n&&(o?s[M]=e:delete s[M]),t}var xe=Object.prototype,ye=xe.toString;function Se(s){return ye.call(s)}var Ee="[object Null]",Te="[object Undefined]",F=O?O.toStringTag:void 0;function Ie(s){return s==null?s===void 0?Te:Ee:F&&F in Object(s)?ve(s):Se(s)}function we(s){return s!=null&&typeof s=="object"}var Me="[object Symbol]";function Oe(s){return typeof s=="symbol"||we(s)&&Ie(s)==Me}var Ce=/\s/;function ze(s){for(var o=s.length;o--&&Ce.test(s.charAt(o)););return o}var je=/^\s+/;function Re(s){return s&&s.slice(0,ze(s)+1).replace(je,"")}function C(s){var o=typeof s;return s!=null&&(o=="object"||o=="function")}var N=NaN,ke=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,_e=/^0o[0-7]+$/i,We=parseInt;function B(s){if(typeof s=="number")return s;if(Oe(s))return N;if(C(s)){var o=typeof s.valueOf=="function"?s.valueOf():s;s=C(o)?o+"":o}if(typeof s!="string")return s===0?s:+s;s=Re(s);var e=$e.test(s);return e||_e.test(s)?We(s.slice(2),e?2:8):ke.test(s)?N:+s}var $=function(){return V.Date.now()},De="Expected a function",Le=Math.max,Ae=Math.min;function Fe(s,o,e){var n,t,i,r,l,a,h=0,c=!1,g=!1,p=!0;if(typeof s!="function")throw new TypeError(De);o=B(o)||0,C(e)&&(c=!!e.leading,g="maxWait"in e,i=g?Le(B(e.maxWait)||0,o):i,p="trailing"in e?!!e.trailing:p);function b(d){var E=n,w=t;return n=t=void 0,h=d,r=s.apply(w,E),r}function v(d){return h=d,l=setTimeout(m,o),c?b(d):r}function u(d){var E=d-a,w=d-h,W=o-E;return g?Ae(W,i-w):W}function f(d){var E=d-a,w=d-h;return a===void 0||E>=o||E<0||g&&w>=i}function m(){var d=$();if(f(d))return S(d);l=setTimeout(m,u(d))}function S(d){return l=void 0,p&&n?b(d):(n=t=void 0,r)}function z(){l!==void 0&&clearTimeout(l),h=0,n=a=t=l=void 0}function j(){return l===void 0?r:S($())}function R(){var d=$(),E=f(d);if(n=arguments,t=this,a=d,E){if(l===void 0)return v(a);if(g)return clearTimeout(l),l=setTimeout(m,o),b(a)}return l===void 0&&(l=setTimeout(m,o)),r}return R.cancel=z,R.flush=j,R}var Ne="Expected a function";function Be(s,o,e){var n=!0,t=!0;if(typeof s!="function")throw new TypeError(Ne);return C(e)&&(n="leading"in e?!!e.leading:n,t="trailing"in e?!!e.trailing:t),Fe(s,o,{leading:n,maxWait:o,trailing:t})}const Pe=Object.keys(_).filter(s=>"$$typeof"in _[s]);function He(s){const{className:o,gap:e,itemHeight:n}=s,t=y.useRef(null),i=D(u=>u.searchText[0]),[r,l]=y.useState(4),a=y.useDeferredValue(i),{iconColor:h,iconRoute:c,iconSize:g}=Z(),p=D(u=>u.iconName[1]),b=Pe.filter(u=>u.toLowerCase().includes(a.toLowerCase()));y.useEffect(()=>{const u=()=>{const S=n+e,z=t.current.getBoundingClientRect().width-e,j=Math.max(1,Math.floor(z/S));l(j)};u();const f=Be(u,100),m=new ResizeObserver(f);return m.observe(t.current),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f),m.disconnect()}},[n,e]);const v=fe({count:Math.ceil(b.length/r),estimateSize:()=>n+e,getScrollElement:()=>t.current,overscan:2});return b.length===0?x.jsxs(G,{children:[x.jsx(Q,{}),x.jsx(X,{children:"No matching results"}),x.jsx(q,{children:"Try another search."})]}):x.jsx("div",{ref:t,className:Y("overflow-y-scroll p-8",o),children:x.jsx("div",{className:"relative w-full",style:{height:`${v.getTotalSize()-e}px`},children:v.getVirtualItems().map(u=>x.jsx("div",{className:"absolute left-0 top-0 grid w-full",style:{gap:e,gridTemplateColumns:`repeat(${r}, 1fr)`,height:`${n}px`,transform:`translateY(${u.start}px)`},children:b.slice(u.index*r,(u.index+1)*r).map(f=>{const m=_[f];return x.jsx("div",{className:"flex items-center justify-center",style:{height:n},children:x.jsx("div",{className:"cursor-pointer",role:"button",style:{height:L,width:L},tabIndex:0,title:f,onClick:()=>p(f),onKeyDown:S=>{S.key==="Enter"&&p(f)},children:x.jsx(J,{children:x.jsx(m,{style:{color:h,height:g,transform:`rotate(${c}deg)`,width:g}})},f)})},f)})},u.index))})})}export{He as VirtualGrid};
